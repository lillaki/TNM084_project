<!doctype html>
<html lang="en">
  <head>
    <title>Iris</title>
    <meta charset="utf-8">
    <style>*{box-sizing:border-box; margin:0; padding:0;}</style>
  </head>

  <body>
    <div id="container"></div>
  </body>

  <script src="js/three.min.js"></script>
  <script src="js/OrbitControls.js"></script>

  <!-- VERTEX SHADER -->
  <script type="x-shader/x-vertex" id="vertexShader">
    uniform float time;
    varying vec2 vUv;
      
    void main() {
        vUv = uv;
        //vec3 newPosition = position + normal;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
    }
  </script>

  <!-- FRAGMENT SHADER -->
  <script type="x-shader/x-vertex" id="fragmentShader">
    uniform float time;
    varying vec2 vUv;
      
    void main() {
        vec2 position = -1.0 + 2.0 * vUv;
        gl_FragColor = vec4( vec3( vUv, 0.0 ), 1.0 );

    }
  </script>

  <!-- MAIN CODE -->
  <script type="text/javascript" id="mainCode">

    var container, renderer, scene, camera,
    mesh, start = Date.now(), fov = 30;

    window.addEventListener( 'load', function() {

      container = document.getElementById( "container" );

      // SCENE AND CAMERA 
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(fov, window.innerWidth / window.innerHeight, 1, 10000 );
      camera.position.z = 100;

      // SPHERE
      geometry = new THREE.IcosahedronGeometry( 20, 4 );

      // MATERIAL
      var uniforms = {
        time: { type: "f", value: 0 }
      }

      material = new THREE.ShaderMaterial( {
        uniforms: uniforms,
        vertexShader: document.getElementById( 'vertexShader' ).textContent,
        fragmentShader: document.getElementById( 'fragmentShader' ).textContent
      } );

      mesh = new THREE.Mesh(geometry, material);
      scene.add( mesh );

      // RENDERER 
      renderer = new THREE.WebGLRenderer();
      renderer.setSize( window.innerWidth, window.innerHeight );
      renderer.setPixelRatio( window.devicePixelRatio );
      container.appendChild( renderer.domElement );

      // CONTROLS
      var controls = new THREE.OrbitControls( camera, renderer.domElement );

      onWindowResize();
      window.addEventListener( 'resize', onWindowResize );

      render();

    } );

    function onWindowResize () {
      renderer.setSize( window.innerWidth, window.innerHeight );
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
    }

    function render() {
      renderer.render( scene, camera );
      requestAnimationFrame( render );
    }
  </script>

</html>
